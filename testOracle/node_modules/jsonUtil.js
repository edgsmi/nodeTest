function readJsonFile(file, encoding) {
	var fs = require('fs');
	var data = '';

	fs.readFile(file, encoding, function (err, d) {
	  if (err) {
	    console.log('Error: ' + err);
	    //throw err;// we'll not consider error handling for now
	    return;
	  }

	  //data = JSON.parse(d);
	  try {
	     data = JSON.parse(d);
	  } catch(e) {
	  	throw new Error("data is corrupted")
	  }

	  //console.dir(data);
	 console.log(data);
	  //console.log(JSON.stringify(data));
		return data;  
	});
}


function readJsonFileFromDir(dirName, fileName, encoding) {
	//return readJsonFile(dirName + "/" + fileName, encoding);

	var data = readJsonFile(dirName + "/" + fileName, encoding);
	console.log(data);

	return data;
}


exports.readJsonFileFromDir = readJsonFileFromDir;
exports.readJsonFile = readJsonFile;